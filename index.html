<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>7/D Geli≈ümi≈ü Platform</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html, body {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  font-family: 'Segoe UI', system-ui, sans-serif;
}

body {
  background: #0a0f1f;
  color: white;
}

/* RGB Arkaplan Animasyonu */
@keyframes rgbFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.rgb-bg {
  position: fixed;
  inset: 0;
  background: linear-gradient(45deg, 
    #ff0000, #00ff00, #0000ff, 
    #ff00ff, #00ffff, #ffff00,
    #ff0000);
  background-size: 400% 400%;
  animation: rgbFlow 15s ease infinite;
  opacity: 0.15;
  z-index: -2;
}

.rgb-glow {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at 50% 50%, 
    rgba(0,255,255,0.1) 0%,
    rgba(255,0,255,0.1) 50%,
    rgba(255,255,0,0.1) 100%);
  z-index: -1;
}

/* Login Ekranƒ± */
#login {
  position: fixed;
  inset: 0;
  background: rgba(2, 6, 23, 0.98);
  backdrop-filter: blur(20px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  transition: 0.5s;
}

.login-container {
  background: rgba(30, 41, 59, 0.5);
  backdrop-filter: blur(10px);
  border: 3px solid #00ffcc;
  border-radius: 50px;
  padding: 50px;
  width: 90%;
  max-width: 500px;
  box-shadow: 0 0 100px #00ffcc33;
  animation: loginPop 0.5s ease;
}

@keyframes loginPop {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.login-container h1 {
  text-align: center;
  font-size: 48px;
  margin-bottom: 30px;
  background: linear-gradient(90deg, #00ffcc, #ff00ff, #00ffcc);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-size: 200% auto;
  animation: gradient 3s linear infinite;
}

@keyframes gradient {
  to { background-position: 200% center; }
}

.login-input {
  width: 100%;
  height: 60px;
  background: rgba(0,0,0,0.3);
  border: 2px solid #00ffcc;
  border-radius: 30px;
  margin: 15px 0;
  padding: 0 25px;
  color: white;
  font-size: 18px;
  transition: 0.3s;
}

.login-input:focus {
  outline: none;
  border-color: #ff00ff;
  box-shadow: 0 0 30px #ff00ff;
}

.login-btn {
  width: 100%;
  height: 60px;
  background: linear-gradient(90deg, #00ffcc, #0099ff);
  border: none;
  border-radius: 30px;
  color: black;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  margin: 15px 0;
}

.login-btn:hover {
  transform: scale(1.02);
  box-shadow: 0 0 40px #00ffcc;
}

.remember-me {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #888;
  margin: 15px 0;
  cursor: pointer;
}

.remember-me input {
  width: 20px;
  height: 20px;
  cursor: pointer;
}

/* Ana Men√º Butonu */
#menu-btn {
  position: fixed;
  left: 20px;
  top: 20px;
  width: 60px;
  height: 60px;
  background: rgba(2, 6, 23, 0.9);
  backdrop-filter: blur(10px);
  border: 3px solid #00ffcc;
  border-radius: 20px;
  color: #00ffcc;
  font-size: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 100;
  transition: 0.3s;
  box-shadow: 0 0 30px #00ffcc33;
}

#menu-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 0 50px #00ffcc;
}

/* Sidebar */
#sidebar {
  position: fixed;
  left: -400px;
  top: 0;
  bottom: 0;
  width: 400px;
  background: rgba(2, 6, 23, 0.98);
  backdrop-filter: blur(20px);
  border-right: 3px solid #00ffcc;
  z-index: 99;
  transition: 0.3s;
  padding: 100px 20px 20px;
  overflow-y: auto;
}

#sidebar.open {
  left: 0;
}

#sidebar-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  z-index: 98;
  display: none;
}

#sidebar-overlay.show {
  display: block;
}

/* Profil Kartƒ± */
.profile-card {
  background: rgba(30, 41, 59, 0.5);
  border: 2px solid #00ffcc;
  border-radius: 30px;
  padding: 30px;
  text-align: center;
  margin-bottom: 30px;
}

.profile-pfp {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  border: 4px solid #00ffcc;
  margin: 0 auto 15px;
  object-fit: cover;
}

.profile-name {
  font-size: 24px;
  font-weight: bold;
  color: #00ffcc;
  margin-bottom: 10px;
}

.profile-points {
  font-size: 32px;
  color: #ffaa00;
  text-shadow: 0 0 20px #ffaa00;
}

/* Sidebar Butonlar */
.sidebar-btn {
  width: 100%;
  padding: 20px;
  background: rgba(30, 41, 59, 0.5);
  border: 2px solid #00ffcc;
  border-radius: 20px;
  color: white;
  font-size: 20px;
  font-weight: bold;
  cursor: pointer;
  margin: 10px 0;
  transition: 0.3s;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 15px;
}

.sidebar-btn:hover {
  background: #00ffcc;
  color: black;
  transform: translateX(10px);
}

.sidebar-btn.active {
  background: #00ffcc;
  color: black;
  border-color: #ff00ff;
}

.sidebar-btn i { font-size: 28px; width: 40px; }

/* Ana ƒ∞√ßerik */
#main-content {
  position: fixed;
  inset: 0;
  background: transparent;
}

/* Sohbet Ekranƒ± */
#chat-screen {
  height: 100%;
  display: flex;
  flex-direction: column;
}

#topbar {
  height: 80px;
  background: rgba(2, 6, 23, 0.9);
  backdrop-filter: blur(20px);
  border-bottom: 3px solid #00ffcc;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
}

.topbar-title {
  font-size: 24px;
  font-weight: bold;
  background: linear-gradient(90deg, #00ffcc, #ff00ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.topbar-points {
  background: linear-gradient(90deg, #ffaa00, #ff5500);
  padding: 10px 25px;
  border-radius: 30px;
  color: black;
  font-weight: bold;
  font-size: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  box-shadow: 0 0 30px #ffaa00;
}

.topbar-btn {
  background: transparent;
  border: 2px solid #00ffcc;
  border-radius: 30px;
  padding: 10px 25px;
  color: white;
  font-size: 18px;
  cursor: pointer;
  transition: 0.3s;
  display: flex;
  align-items: center;
  gap: 8px;
}

.topbar-btn:hover {
  background: #00ffcc;
  color: black;
}

/* Online Panel */
#onlinePanel {
  position: absolute;
  top: 90px;
  right: 20px;
  width: 300px;
  background: rgba(2, 6, 23, 0.98);
  border: 3px solid #00ffcc;
  border-radius: 30px;
  padding: 20px;
  z-index: 50;
  display: none;
  backdrop-filter: blur(20px);
  max-height: 500px;
  overflow-y: auto;
}

.online-title {
  font-size: 20px;
  color: #00ffcc;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 2px solid #00ffcc;
}

.online-user {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px;
  border-radius: 15px;
  transition: 0.3s;
}

.online-user:hover {
  background: rgba(0,255,200,0.1);
}

.online-user-pfp {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 2px solid #00ffcc;
}

.online-user-name {
  font-weight: bold;
  flex: 1;
}

.online-user-admin {
  color: #ff00ff;
  font-size: 12px;
}

/* Yazƒ±yor G√∂stergesi */
#typing-indicator {
  position: absolute;
  bottom: 100px;
  left: 30px;
  background: rgba(2, 6, 23, 0.9);
  backdrop-filter: blur(10px);
  border: 2px solid #00ffcc;
  border-radius: 30px;
  padding: 12px 25px;
  color: #00ffcc;
  display: none;
  align-items: center;
  gap: 10px;
  font-size: 16px;
  z-index: 40;
}

.typing-dots {
  display: flex;
  gap: 5px;
}

.typing-dots span {
  width: 8px;
  height: 8px;
  background: #00ffcc;
  border-radius: 50%;
  animation: typingBounce 1.4s infinite;
}

.typing-dots span:nth-child(2) { animation-delay: 0.2s; }
.typing-dots span:nth-child(3) { animation-delay: 0.4s; }

@keyframes typingBounce {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-8px); }
}

/* Chat Mesajlarƒ± */
#chat {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.msg {
  max-width: 70%;
  padding: 15px 20px;
  border-radius: 25px;
  font-size: 15px;
  line-height: 1.5;
  animation: msgPop 0.2s ease;
  position: relative;
}

@keyframes msgPop {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.msg.user { 
  background: #1e293b; 
  align-self: flex-start; 
  border-bottom-left-radius: 5px;
}

.msg.me { 
  background: linear-gradient(135deg, #2563eb, #1e40af); 
  align-self: flex-end; 
  border-bottom-right-radius: 5px;
}

.msg.admin { 
  background: linear-gradient(135deg, #dc2626, #991b1b); 
  align-self: flex-start; 
  border-bottom-left-radius: 5px;
}

/* Sohbet Balonu Stilleri */
.msg.style-green {
  background: linear-gradient(135deg, #00cc66, #008040);
  box-shadow: 0 0 20px #00cc66;
}

.msg.style-rgb {
  background: linear-gradient(90deg, 
    #ff0000, #00ff00, #0000ff, 
    #ff00ff, #00ffff, #ffff00);
  background-size: 300% auto;
  animation: rgbMove 3s linear infinite;
  color: black;
  font-weight: bold;
  text-shadow: 2px 2px 4px rgba(255,255,255,0.5);
  box-shadow: 0 0 30px #ffffff;
}

@keyframes rgbMove {
  0% { background-position: 0% center; }
  100% { background-position: 300% center; }
}

.msg-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 8px;
  font-size: 13px;
}

.msg-pfp {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  border: 2px solid currentColor;
}

.msg-username {
  font-weight: bold;
  color: #00ffcc;
}

.msg-time {
  color: #888;
  font-size: 11px;
  margin-left: auto;
}

.msg img {
  max-width: 250px;
  border-radius: 15px;
  margin-top: 10px;
}

/* Input Alanƒ± */
#inputBar {
  background: rgba(2, 6, 23, 0.9);
  backdrop-filter: blur(20px);
  border-top: 3px solid #00ffcc;
  padding: 20px;
  display: flex;
  gap: 15px;
  align-items: center;
}

#text {
  flex: 1;
  height: 60px;
  background: rgba(0,0,0,0.3);
  border: 2px solid #00ffcc;
  border-radius: 30px;
  padding: 0 25px;
  color: white;
  font-size: 18px;
}

#text:focus {
  outline: none;
  border-color: #ff00ff;
  box-shadow: 0 0 30px #ff00ff;
}

#imgInput {
  display: none;
}

.img-btn {
  width: 60px;
  height: 60px;
  background: #1e293b;
  border: 2px solid #00ffcc;
  border-radius: 30px;
  color: #00ffcc;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: 0.3s;
}

.img-btn:hover {
  background: #00ffcc;
  color: black;
}

.send-btn {
  padding: 0 30px;
  height: 60px;
  background: linear-gradient(90deg, #00ffcc, #0099ff);
  border: none;
  border-radius: 30px;
  color: black;
  font-size: 20px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}

.send-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 30px #00ffcc;
}

/* Sayƒ± Tahmin Oyunu */
#guess-screen {
  height: 100%;
  background: linear-gradient(135deg, #0a1a2f, #1a2f4f);
  padding: 20px;
  overflow-y: auto;
  display: flex;
  justify-content: center;
  align-items: center;
}

.guess-container {
  width: 100%;
  max-width: 1000px;
  height: 90%;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Skor Tablosu */
.guess-scoreboard {
  background: rgba(2, 6, 23, 0.8);
  backdrop-filter: blur(20px);
  border: 3px solid #00ffcc;
  border-radius: 50px;
  padding: 30px;
}

.scoreboard-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 2px solid #00ffcc33;
}

.scoreboard-header h2 {
  font-size: 32px;
  color: #00ffcc;
  flex: 1;
}

.scoreboard-stats {
  background: linear-gradient(90deg, #ffaa00, #ff5500);
  padding: 12px 25px;
  border-radius: 40px;
  color: black;
  font-weight: bold;
  font-size: 20px;
}

.scoreboard-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: 200px;
  overflow-y: auto;
}

.score-item {
  background: rgba(255,255,255,0.05);
  padding: 15px 20px;
  border-radius: 30px;
  display: flex;
  align-items: center;
  gap: 15px;
  font-size: 18px;
  transition: 0.3s;
  border-left: 5px solid #00ffcc;
}

.score-item.me {
  background: linear-gradient(90deg, #00ffcc22, #0099ff22);
  border-left-color: #ffaa00;
  box-shadow: 0 0 20px #ffaa00;
}

.score-rank {
  width: 40px;
  height: 40px;
  background: #00ffcc;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: black;
  font-weight: bold;
}

.score-name {
  flex: 1;
}

.score-points {
  background: #00ffcc22;
  padding: 8px 20px;
  border-radius: 40px;
  color: #00ffcc;
  font-weight: bold;
}

/* Oyun Paneli */
.guess-game-panel {
  background: rgba(2, 6, 23, 0.8);
  backdrop-filter: blur(20px);
  border: 3px solid #00ffcc;
  border-radius: 50px;
  padding: 40px;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 30px;
}

.guess-header {
  text-align: center;
  padding: 30px;
  background: linear-gradient(135deg, #00ffcc22, #0099ff22);
  border-radius: 40px;
}

.guess-header h1 {
  font-size: 48px;
  margin-bottom: 20px;
  background: linear-gradient(90deg, #00ffcc, #ff00ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.target-number {
  font-size: 120px;
  font-weight: bold;
  color: #00ffcc;
  text-shadow: 0 0 50px #00ffcc;
  line-height: 1;
  margin: 20px 0;
  animation: targetPulse 2s infinite;
}

@keyframes targetPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.range-info {
  font-size: 24px;
  background: rgba(0,0,0,0.3);
  padding: 15px 30px;
  border-radius: 60px;
  display: inline-block;
}

.range-info span {
  color: #ffaa00;
  font-size: 32px;
  font-weight: bold;
}

/* Tahmin Ge√ßmi≈üi */
.guess-history {
  background: rgba(0,0,0,0.3);
  border-radius: 30px;
  padding: 20px;
}

.guess-history h3 {
  font-size: 20px;
  color: #00ffcc;
  margin-bottom: 15px;
}

.history-list {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  min-height: 50px;
  max-height: 100px;
  overflow-y: auto;
  padding: 5px;
}

.history-item {
  padding: 10px 20px;
  border-radius: 40px;
  font-weight: bold;
  font-size: 16px;
  animation: historyPop 0.2s ease;
}

.history-item.high {
  background: linear-gradient(135deg, #ff4444, #aa2222);
  color: white;
}

.history-item.low {
  background: linear-gradient(135deg, #4444ff, #2222aa);
  color: white;
}

.history-item.correct {
  background: linear-gradient(135deg, #44ff44, #22aa22);
  color: black;
  transform: scale(1.1);
}

@keyframes historyPop {
  from { transform: scale(0); }
  to { transform: scale(1); }
}

/* Giri≈ü Alanƒ± */
.guess-input-area {
  display: flex;
  gap: 20px;
  align-items: center;
  background: rgba(0,0,0,0.3);
  padding: 30px;
  border-radius: 60px;
  border: 2px solid #00ffcc;
}

.guess-input {
  flex: 1;
  height: 80px;
  font-size: 36px;
  text-align: center;
  background: rgba(255,255,255,0.1);
  border: none;
  border-radius: 50px;
  color: #00ffcc;
  font-weight: bold;
  padding: 0 30px;
}

.guess-input:focus {
  outline: none;
  box-shadow: 0 0 40px #00ffcc;
}

.guess-submit {
  width: 120px;
  height: 120px;
  border-radius: 60px;
  border: none;
  background: linear-gradient(135deg, #00ffcc, #0099ff);
  color: black;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 0 40px #00ffcc;
}

.guess-submit:hover {
  transform: scale(1.1);
}

.guess-submit:disabled {
  opacity: 0.3;
  transform: scale(0.9);
}

.new-game-btn {
  padding: 20px 40px;
  background: linear-gradient(135deg, #ffaa00, #ff5500);
  border: none;
  border-radius: 60px;
  color: white;
  font-size: 32px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 0 40px #ffaa00;
}

.new-game-btn:hover {
  transform: scale(1.05);
}

/* Geri Bildirim Animasyonu */
#guess-feedback {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 100px;
  font-weight: bold;
  text-shadow: 0 0 60px currentColor;
  z-index: 1000;
  pointer-events: none;
  animation: feedbackAnim 0.8s ease-out forwards;
}

@keyframes feedbackAnim {
  0% { transform: translate(-50%, -50%) scale(0.2); opacity: 0; }
  20% { transform: translate(-50%, -50%) scale(1.5); opacity: 1; }
  80% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
  100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
}

/* Maƒüaza Paneli */
#shop-panel {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 600px;
  background: rgba(2, 6, 23, 0.98);
  backdrop-filter: blur(30px);
  border: 4px solid #00ffcc;
  border-radius: 60px;
  padding: 40px;
  z-index: 1001;
  display: none;
  box-shadow: 0 0 200px #00ffcc;
}

.shop-header {
  text-align: center;
  margin-bottom: 30px;
}

.shop-header h2 {
  font-size: 48px;
  color: #00ffcc;
  margin-bottom: 10px;
}

.shop-header p {
  font-size: 20px;
  color: #888;
}

.shop-items {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin: 30px 0;
  max-height: 500px;
  overflow-y: auto;
  padding: 10px;
}

.shop-item {
  background: rgba(30, 41, 59, 0.5);
  border: 3px solid #00ffcc;
  border-radius: 40px;
  padding: 25px;
  display: flex;
  align-items: center;
  gap: 25px;
  cursor: pointer;
  transition: 0.3s;
  position: relative;
  overflow: hidden;
}

.shop-item:hover {
  transform: scale(1.02);
  background: rgba(0,255,200,0.1);
  border-color: #ff00ff;
}

.shop-item.disabled {
  opacity: 0.5;
  pointer-events: none;
  filter: grayscale(1);
}

.shop-item-preview {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: linear-gradient(135deg, #00ffcc, #0099ff);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 40px;
}

.shop-item-info {
  flex: 1;
}

.shop-item-info h3 {
  font-size: 24px;
  color: #00ffcc;
  margin-bottom: 8px;
}

.shop-item-info p {
  color: #888;
  font-size: 16px;
}

.shop-item-price {
  font-size: 32px;
  font-weight: bold;
  color: #ffaa00;
  display: flex;
  align-items: center;
  gap: 8px;
}

.shop-item-price small {
  font-size: 16px;
  color: #888;
}

.shop-close {
  width: 100%;
  padding: 20px;
  background: #dc2626;
  border: none;
  border-radius: 40px;
  color: white;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}

.shop-close:hover {
  background: #b91c1c;
}

/* Geri Bildirim Paneli */
#feedback-panel {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 600px;
  background: rgba(2, 6, 23, 0.98);
  backdrop-filter: blur(30px);
  border: 4px solid #00ffcc;
  border-radius: 60px;
  padding: 40px;
  z-index: 1001;
  display: none;
  box-shadow: 0 0 200px #00ffcc;
}

.feedback-type {
  display: flex;
  gap: 15px;
  margin: 25px 0;
}

.feedback-type-btn {
  flex: 1;
  padding: 15px;
  background: #1e293b;
  border: 2px solid #00ffcc;
  border-radius: 40px;
  color: white;
  font-size: 18px;
  cursor: pointer;
  transition: 0.3s;
}

.feedback-type-btn.active {
  background: #00ffcc;
  color: black;
}

#feedback-text {
  width: 100%;
  height: 150px;
  background: #1e293b;
  border: 2px solid #00ffcc;
  border-radius: 30px;
  padding: 20px;
  color: white;
  font-size: 18px;
  resize: none;
  margin: 20px 0;
}

#feedback-text:focus {
  outline: none;
  border-color: #ff00ff;
  box-shadow: 0 0 30px #ff00ff;
}

.feedback-submit {
  width: 100%;
  padding: 18px;
  background: linear-gradient(90deg, #00ffcc, #0099ff);
  border: none;
  border-radius: 40px;
  color: black;
  font-size: 22px;
  font-weight: bold;
  cursor: pointer;
  margin-bottom: 15px;
}

.feedback-close {
  width: 100%;
  padding: 15px;
  background: #dc2626;
  border: none;
  border-radius: 40px;
  color: white;
  font-size: 18px;
  cursor: pointer;
}

.feedback-list {
  margin-top: 25px;
  max-height: 200px;
  overflow-y: auto;
  padding: 15px;
  background: #1e293b;
  border-radius: 30px;
  display: none;
}

.feedback-item {
  padding: 12px;
  border-bottom: 1px solid #00ffcc33;
  font-size: 14px;
}

.feedback-item:last-child {
  border-bottom: none;
}

.feedback-header {
  display: flex;
  justify-content: space-between;
  color: #00ffcc;
  margin-bottom: 5px;
}

/* Bildirim */
.notification {
  position: fixed;
  top: 30px;
  right: 30px;
  background: #ffaa00;
  color: black;
  padding: 20px 35px;
  border-radius: 50px;
  font-size: 18px;
  font-weight: bold;
  z-index: 2000;
  animation: notifSlide 0.3s ease;
  border: 3px solid #ff8800;
  box-shadow: 0 0 50px #ffaa00;
}

@keyframes notifSlide {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

.hidden { display: none !important; }

/* Satran√ß Ekranƒ± (Kƒ±sa) */
#chess-screen {
  height: 100%;
  background: linear-gradient(135deg, #0a0a1f, #1a1a3f);
  padding: 20px;
  overflow: auto;
}

.chess-placeholder {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  font-size: 48px;
  color: #00ffcc;
}

/* Altun.ai Ekranƒ± */
#altun-screen {
  height: 100%;
  background: linear-gradient(135deg, #1a1a2a, #2a2a3f);
  padding: 20px;
  overflow: auto;
}

.altun-placeholder {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  font-size: 48px;
  color: #00ffcc;
}
</style>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>

<div class="rgb-bg"></div>
<div class="rgb-glow"></div>

<!-- Login Ekranƒ± -->
<div id="login">
  <div class="login-container">
    <h1>üéÆ 7/D PLATFORM</h1>
    <input type="text" id="login-name" class="login-input" placeholder="Kullanƒ±cƒ± Adƒ±">
    <input type="password" id="login-code" class="login-input" placeholder="Kod (deop / kmja / Alex)">
    
    <label class="remember-me">
      <input type="checkbox" id="remember-me" checked> Beni Hatƒ±rla
    </label>
    
    <button class="login-btn" onclick="handleLogin()">Gƒ∞Rƒ∞≈û YAP</button>
    <div id="login-error" style="color:#ff4444; text-align:center; margin-top:15px;"></div>
  </div>
</div>

<!-- Men√º Butonu -->
<button id="menu-btn" onclick="toggleMenu()">‚ò∞</button>

<!-- Sidebar Overlay -->
<div id="sidebar-overlay" onclick="closeMenu()"></div>

<!-- Sidebar -->
<div id="sidebar">
  <div class="profile-card">
    <img id="sidebar-pfp" class="profile-pfp" src="" alt="PFP">
    <div class="profile-name" id="sidebar-name"></div>
    <div class="profile-points" id="sidebar-points">0</div>
  </div>
  
  <button class="sidebar-btn active" onclick="switchScreen('chat')" id="btn-chat">
    <i>üí¨</i> Sohbet
  </button>
  <button class="sidebar-btn" onclick="switchScreen('guess')" id="btn-guess">
    <i>üî¢</i> Sayƒ± Tahmin
  </button>
  <button class="sidebar-btn" onclick="switchScreen('altun')" id="btn-altun">
    <i>ü§ñ</i> Altun.ai
  </button>
  <button class="sidebar-btn" onclick="switchScreen('chess')" id="btn-chess">
    <i>‚ôüÔ∏è</i> Satran√ß
  </button>
  <button class="sidebar-btn" onclick="openShop()" id="btn-shop">
    <i>üõí</i> Maƒüaza
  </button>
  <button class="sidebar-btn" onclick="openFeedback()" id="btn-feedback">
    <i>üìù</i> Geri Bildirim
  </button>
  <button class="sidebar-btn" onclick="logout()" style="border-color:#ff4444;">
    <i>üö™</i> √áƒ±kƒ±≈ü Yap
  </button>
</div>

<!-- Ana ƒ∞√ßerik -->
<div id="main-content">
  
  <!-- Sohbet Ekranƒ± -->
  <div id="chat-screen">
    <div id="topbar">
      <div class="topbar-title">üí¨ 7/D Sohbet</div>
      <div class="topbar-points" id="topbar-points">üí∞ 0</div>
      <button class="topbar-btn" onclick="toggleOnline()">
        <span>üë•</span> Aktif
      </button>
    </div>
    
    <div id="onlinePanel">
      <div class="online-title">üü¢ √áevrimi√ßi Kullanƒ±cƒ±lar</div>
      <div id="online-list"></div>
    </div>
    
    <div id="typing-indicator">
      <span id="typing-user"></span> yazƒ±yor
      <div class="typing-dots">
        <span></span><span></span><span></span>
      </div>
    </div>
    
    <div id="chat"></div>
    
    <div id="inputBar">
      <input type="text" id="text" placeholder="Mesajƒ±nƒ±zƒ± yazƒ±n..." autocomplete="off">
      <label for="imgInput" class="img-btn">üì∑</label>
      <input type="file" id="imgInput" accept="image/*">
      <button class="send-btn" onclick="send()">G√∂nder</button>
    </div>
  </div>
  
  <!-- Sayƒ± Tahmin Ekranƒ± -->
  <div id="guess-screen" class="hidden">
    <div class="guess-container">
      <!-- Skor Tablosu -->
      <div class="guess-scoreboard">
        <div class="scoreboard-header">
          <h2>üèÜ SKOR TABLOSU</h2>
          <div class="scoreboard-stats" id="total-players">0 Oyuncu</div>
        </div>
        <div class="scoreboard-list" id="score-list"></div>
      </div>
      
      <!-- Oyun Paneli -->
      <div class="guess-game-panel">
        <div class="guess-header">
          <h1>üî¢ SAYI TAHMƒ∞N</h1>
          <div class="target-number" id="target-number">?</div>
          <div class="range-info">
            <span id="min-range">1</span> - <span id="max-range">100</span>
          </div>
        </div>
        
        <div class="guess-history">
          <h3>üìú TAHMƒ∞N GE√áMƒ∞≈ûƒ∞</h3>
          <div class="history-list" id="history-list"></div>
        </div>
        
        <div class="guess-input-area">
          <input type="number" id="guess-input" class="guess-input" 
                 placeholder="Sayƒ±" min="1" max="100">
          <button class="guess-submit" onclick="makeGuess()" id="guess-submit">TAHMƒ∞N</button>
        </div>
        
        <button class="new-game-btn" onclick="startNewGuessGame()">üîÑ YENƒ∞ OYUN</button>
      </div>
    </div>
    
    <div id="guess-feedback"></div>
  </div>
  
  <!-- Altun.ai Ekranƒ± -->
  <div id="altun-screen" class="hidden">
    <div class="altun-placeholder">ü§ñ Altun.ai Yakƒ±nda...</div>
  </div>
  
  <!-- Satran√ß Ekranƒ± -->
  <div id="chess-screen" class="hidden">
    <div class="chess-placeholder">‚ôüÔ∏è Satran√ß Yakƒ±nda...</div>
  </div>
</div>

<!-- Maƒüaza Paneli -->
<div id="shop-panel">
  <div class="shop-header">
    <h2>üõí PUAN MAƒûAZASI</h2>
    <p>Puanƒ±n: <span id="shop-points" style="color:#ffaa00; font-size:24px;">0</span></p>
  </div>
  
  <div class="shop-items" id="shop-items"></div>
  
  <button class="shop-close" onclick="closeShop()">Kapat</button>
</div>

<!-- Geri Bildirim Paneli -->
<div id="feedback-panel">
  <h2 style="color:#00ffcc; text-align:center; font-size:36px;">üìù GERƒ∞ Bƒ∞LDƒ∞Rƒ∞M</h2>
  
  <div class="feedback-type">
    <button class="feedback-type-btn active" onclick="setFeedbackType('feedback')">üí¨ Geri Bildirim</button>
    <button class="feedback-type-btn" onclick="setFeedbackType('bug')">üêõ Hata</button>
    <button class="feedback-type-btn" onclick="setFeedbackType('suggestion')">üí° √ñneri</button>
  </div>
  
  <textarea id="feedback-text" placeholder="D√º≈ü√ºncelerinizi yazƒ±n..."></textarea>
  
  <button class="feedback-submit" onclick="submitFeedback()">G√∂nder</button>
  <button class="feedback-close" onclick="closeFeedback()">Kapat</button>
  
  <div class="feedback-list" id="feedback-list"></div>
</div>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyBVMvgD3u-UT5dAk72pXqLub05qNPjqPW8",
  authDomain: "dsohbet.firebaseapp.com",
  databaseURL: "https://dsohbet-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "dsohbet"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Global Deƒüi≈ükenler
let username = '';
let role = 'user';
let pfp = '';
let userPoints = 0;
let purchasedStyles = ['default'];
let currentStyle = 'default';
let typingTimeout = null;
let currentScreen = 'chat';
let currentFeedbackType = 'feedback';

// Sayƒ± Tahmin Deƒüi≈ükenleri
let guessTarget = Math.floor(Math.random() * 100) + 1;
let guessMin = 1, guessMax = 100;
let guessAttempts = 0;
let guessScore = 0;
let guessGameActive = true;
let guessPlayers = {};

// AFK Kontrol
let lastActivity = Date.now();
const AFK_LIMIT = 120000;

// Sayfa Y√ºklendiƒüinde
window.onload = function() {
  // Kayƒ±tlƒ± kullanƒ±cƒ± var mƒ±?
  const savedUser = localStorage.getItem('rememberedUser');
  if (savedUser) {
    const userData = JSON.parse(savedUser);
    document.getElementById('login-name').value = userData.username;
    document.getElementById('login-code').value = userData.code;
    document.getElementById('remember-me').checked = true;
  }
  
  // Event listenerlar
  document.getElementById('guess-input').addEventListener('keypress', (e) => {
    if (e.key === 'Enter') makeGuess();
  });
  
  document.getElementById('text').addEventListener('input', onTyping);
  
  // Aktivite takibi
  ['mousedown', 'mousemove', 'keydown', 'touchstart'].forEach(ev => {
    document.addEventListener(ev, updateActivity);
  });
  
  setInterval(checkAFK, 1000);
}

// Aktivite G√ºncelleme
function updateActivity() {
  lastActivity = Date.now();
}

function checkAFK() {
  if (Date.now() - lastActivity > AFK_LIMIT && username) {
    logout();
    alert('2 dakika hareketsiz kaldƒ±ƒüƒ±nƒ±z i√ßin √ßƒ±kƒ±≈ü yapƒ±ldƒ±!');
  }
}

// Giri≈ü ƒ∞≈ülemi
function handleLogin() {
  const name = document.getElementById('login-name').value.trim();
  const code = document.getElementById('login-code').value.trim();
  const errorDiv = document.getElementById('login-error');
  
  if (!name) {
    errorDiv.textContent = 'Kullanƒ±cƒ± adƒ± girin!';
    return;
  }
  
  const validCodes = ['deop', 'kmja', 'Alex'];
  if (!validCodes.includes(code)) {
    errorDiv.textContent = 'Ge√ßersiz kod!';
    return;
  }
  
  username = name;
  role = code === 'deop' ? 'admin' : 'user';
  pfp = `https://api.dicebear.com/7.x/avataaars/svg?seed=${username}`;
  
  // Beni hatƒ±rla
  if (document.getElementById('remember-me').checked) {
    localStorage.setItem('rememberedUser', JSON.stringify({
      username: name,
      code: code
    }));
  } else {
    localStorage.removeItem('rememberedUser');
  }
  
  // Giri≈ü yap
  document.getElementById('login').style.display = 'none';
  
  // Profil bilgilerini g√ºncelle
  document.getElementById('sidebar-name').textContent = username;
  document.getElementById('sidebar-pfp').src = pfp;
  
  // Kullanƒ±cƒ± verilerini y√ºkle
  loadUserData();
  
  // Presence
  setupPresence();
  
  // Mesajlarƒ± dinle
  listenMessages();
  listenOnline();
  listenTyping();
  
  // Admin badge
  if (role === 'admin') {
    document.getElementById('admin-badge').style.display = 'block';
  }
}

// Kullanƒ±cƒ± Verilerini Y√ºkle
function loadUserData() {
  // Puan
  db.ref(`users/${username}/points`).on('value', (snap) => {
    userPoints = snap.val() || 0;
    document.getElementById('sidebar-points').textContent = userPoints;
    document.getElementById('topbar-points').textContent = `üí∞ ${userPoints}`;
    document.getElementById('shop-points').textContent = userPoints;
  });
  
  // Satƒ±n alƒ±nan stiller
  db.ref(`users/${username}/styles`).on('value', (snap) => {
    purchasedStyles = snap.val() || ['default'];
  });
  
  // Aktif stil
  db.ref(`users/${username}/activeStyle`).on('value', (snap) => {
    currentStyle = snap.val() || 'default';
  });
}

// Presence
function setupPresence() {
  const userRef = db.ref(`online/${username}`);
  userRef.set({
    name: username,
    role: role,
    pfp: pfp,
    lastActive: Date.now()
  });
  
  setInterval(() => {
    userRef.update({ lastActive: Date.now() });
  }, 30000);
  
  userRef.onDisconnect().remove();
}

// Online Listesi
function listenOnline() {
  db.ref('online').on('value', (snap) => {
    const list = document.getElementById('online-list');
    list.innerHTML = '';
    const now = Date.now();
    
    snap.forEach(child => {
      const u = child.val();
      if (now - u.lastActive > AFK_LIMIT) return;
      
      const div = document.createElement('div');
      div.className = 'online-user';
      div.innerHTML = `
        <img src="${u.pfp}" class="online-user-pfp">
        <span class="online-user-name">${u.name}</span>
        ${u.role === 'admin' ? '<span class="online-user-admin">üëë</span>' : ''}
      `;
      list.appendChild(div);
    });
  });
}

// Yazƒ±yor
function listenTyping() {
  db.ref('typing').on('value', (snap) => {
    const data = snap.val() || {};
    const now = Date.now();
    const typingUsers = Object.keys(data)
      .filter(id => id !== username && data[id] > now - 3000);
    
    const indicator = document.getElementById('typing-indicator');
    const userSpan = document.getElementById('typing-user');
    
    if (typingUsers.length > 0) {
      if (typingUsers.length === 1) userSpan.textContent = typingUsers[0];
      else if (typingUsers.length === 2) userSpan.textContent = typingUsers.join(' ve ');
      else userSpan.textContent = 'Birka√ß ki≈üi';
      indicator.style.display = 'flex';
    } else {
      indicator.style.display = 'none';
    }
  });
}

function onTyping() {
  if (!username) return;
  
  if (typingTimeout) clearTimeout(typingTimeout);
  
  db.ref(`typing/${username}`).set(Date.now());
  
  typingTimeout = setTimeout(() => {
    db.ref(`typing/${username}`).remove();
  }, 3000);
}

// Mesajlar
function listenMessages() {
  db.ref('messages').on('child_added', (snap) => {
    renderMessage(snap.val());
  });
}

function send() {
  const text = document.getElementById('text').value.trim();
  const file = document.getElementById('imgInput').files[0];
  
  if (!text && !file) return;
  
  db.ref(`typing/${username}`).remove();
  
  const now = new Date();
  const timeStr = `${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}`;
  
  const msg = {
    name: username,
    role: role,
    pfp: pfp,
    text: text,
    time: Date.now(),
    timeStr: timeStr,
    style: currentStyle
  };
  
  if (file) {
    const reader = new FileReader();
    reader.onload = e => {
      msg.img = e.target.result;
      db.ref('messages').push(msg);
    };
    reader.readAsDataURL(file);
  } else {
    db.ref('messages').push(msg);
  }
  
  document.getElementById('text').value = '';
  document.getElementById('imgInput').value = '';
}

function renderMessage(m) {
  const chat = document.getElementById('chat');
  const div = document.createElement('div');
  
  let cls = 'msg user';
  if (m.name === username) cls = 'msg me';
  if (m.role === 'admin') cls = 'msg admin';
  
  // Stil varsa ekle
  if (m.style && m.style !== 'default') {
    cls += ` style-${m.style}`;
  }
  
  div.className = cls;
  
  div.innerHTML = `
    <div class="msg-header">
      <img src="${m.pfp}" class="msg-pfp">
      <span class="msg-username">${m.name}</span>
      <span class="msg-time">${m.timeStr}</span>
    </div>
    <div>${m.text || ''}</div>
    ${m.img ? `<img src="${m.img}">` : ''}
  `;
  
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

// Sayƒ± Tahmin Oyunu
function initGuessGame() {
  updateScoreboard();
  
  db.ref('guessScores').on('value', (snap) => {
    guessPlayers = snap.val() || {};
    updateScoreboard();
  });
  
  // Kullanƒ±cƒ± skorunu g√ºncelle
  if (username) {
    db.ref(`guessScores/${username}`).set({
      name: username,
      score: guessScore,
      lastActive: Date.now()
    });
  }
  
  document.getElementById('total-players').textContent = 
    `${Object.keys(guessPlayers).length} Oyuncu`;
}

function updateScoreboard() {
  const scoreList = document.getElementById('score-list');
  scoreList.innerHTML = '';
  
  const sorted = Object.entries(guessPlayers)
    .filter(([_, d]) => d.score > 0)
    .sort((a, b) => b[1].score - a[1].score)
    .slice(0, 10);
  
  sorted.forEach(([id, data], index) => {
    const div = document.createElement('div');
    div.className = `score-item ${id === username ? 'me' : ''}`;
    div.innerHTML = `
      <div class="score-rank">#${index + 1}</div>
      <div class="score-name">${data.name || id}</div>
      <div class="score-points">${data.score}</div>
    `;
    scoreList.appendChild(div);
  });
  
  document.getElementById('total-players').textContent = 
    `${Object.keys(guessPlayers).length} Oyuncu`;
}

function makeGuess() {
  if (!guessGameActive) {
    showNotification('√ñnce yeni oyun ba≈ülat!');
    return;
  }
  
  const input = document.getElementById('guess-input');
  const guess = parseInt(input.value);
  
  if (isNaN(guess) || guess < 1 || guess > 100) {
    showNotification('L√ºtfen 1-100 arasƒ± bir sayƒ± gir!');
    return;
  }
  
  guessAttempts++;
  
  // Tahmini ge√ßmi≈üe ekle
  const historyItem = document.createElement('div');
  const historyList = document.getElementById('history-list');
  
  if (guess === guessTarget) {
    // Kazandƒ±
    guessGameActive = false;
    document.getElementById('target-number').textContent = guessTarget;
    document.getElementById('guess-submit').disabled = true;
    
    historyItem.className = 'history-item correct';
    historyItem.textContent = guess;
    historyList.appendChild(historyItem);
    
    // Puan hesapla
    const points = Math.max(10, 100 - (guessAttempts * 5));
    guessScore += points;
    userPoints += points;
    
    // Firebase'e kaydet
    db.ref(`guessScores/${username}`).update({ score: guessScore });
    db.ref(`users/${username}/points`).set(userPoints);
    
    // Animasyon
    showGuessFeedback('üéâ', 'correct');
    showNotification(`+${points} puan kazandƒ±n!`);
    
  } else if (guess < guessTarget) {
    if (guess > guessMin) guessMin = guess + 1;
    historyItem.className = 'history-item low';
    historyItem.textContent = guess + ' üìà';
    showGuessFeedback('üìà', 'low');
  } else {
    if (guess < guessMax) guessMax = guess - 1;
    historyItem.className = 'history-item high';
    historyItem.textContent = guess + ' üìâ';
    showGuessFeedback('üìâ', 'high');
  }
  
  historyList.appendChild(historyItem);
  historyList.scrollTop = historyList.scrollHeight;
  
  // Aralƒ±ƒüƒ± g√ºncelle
  document.getElementById('min-range').textContent = guessMin;
  document.getElementById('max-range').textContent = guessMax;
  input.value = '';
  input.focus();
}

function showGuessFeedback(text, type) {
  const feedback = document.getElementById('guess-feedback');
  feedback.textContent = text;
  feedback.className = type;
  
  setTimeout(() => {
    feedback.textContent = '';
    feedback.className = '';
  }, 800);
}

function startNewGuessGame() {
  guessTarget = Math.floor(Math.random() * 100) + 1;
  guessMin = 1;
  guessMax = 100;
  guessAttempts = 0;
  guessGameActive = true;
  
  document.getElementById('target-number').textContent = '?';
  document.getElementById('min-range').textContent = '1';
  document.getElementById('max-range').textContent = '100';
  document.getElementById('history-list').innerHTML = '';
  document.getElementById('guess-submit').disabled = false;
  document.getElementById('guess-input').focus();
  
  showNotification('üîÑ Yeni sayƒ± belirlendi!');
  console.log('Hedef:', guessTarget); // Test i√ßin
}

// Maƒüaza
function openShop() {
  const shopItems = document.getElementById('shop-items');
  const styles = [
    { id: 1, name: 'Ye≈üil Enerji', desc: 'Canlƒ± ye≈üil balon', price: 200, style: 'green' },
    { id: 2, name: 'RGB AKTƒ∞F', desc: 'Deƒüi≈üen renkler', price: 300, style: 'rgb' }
  ];
  
  shopItems.innerHTML = '';
  
  styles.forEach(s => {
    const owned = purchasedStyles.includes(s.style);
    const div = document.createElement('div');
    div.className = `shop-item ${owned ? 'disabled' : ''}`;
    
    div.innerHTML = `
      <div class="shop-item-preview" style="background: ${s.style === 'green' ? 'linear-gradient(135deg, #00cc66, #008040)' : 'linear-gradient(90deg, red, blue, green, yellow)'}">
        ${s.style === 'green' ? 'üíö' : 'üåà'}
      </div>
      <div class="shop-item-info">
        <h3>${s.name}</h3>
        <p>${s.desc}</p>
      </div>
      <div class="shop-item-price">
        ${owned ? '‚úì SAHƒ∞P' : `${s.price} <small>üí∞</small>`}
      </div>
    `;
    
    if (!owned) {
      div.onclick = () => buyStyle(s.style, s.price);
    }
    
    shopItems.appendChild(div);
  });
  
  document.getElementById('shop-panel').style.display = 'block';
  closeMenu();
}

function buyStyle(style, price) {
  if (userPoints < price) {
    showNotification('Yeterli puanƒ±n yok!');
    return;
  }
  
  userPoints -= price;
  purchasedStyles.push(style);
  
  db.ref(`users/${username}/points`).set(userPoints);
  db.ref(`users/${username}/styles`).set(purchasedStyles);
  db.ref(`users/${username}/activeStyle`).set(style);
  
  showNotification('‚ú® Stil satƒ±n alƒ±ndƒ±!');
  closeShop();
}

function closeShop() {
  document.getElementById('shop-panel').style.display = 'none';
}

// Geri Bildirim
function openFeedback() {
  document.getElementById('feedback-panel').style.display = 'block';
  if (role === 'admin') loadFeedbackHistory();
  closeMenu();
}

function closeFeedback() {
  document.getElementById('feedback-panel').style.display = 'none';
  document.getElementById('feedback-text').value = '';
}

function setFeedbackType(type) {
  currentFeedbackType = type;
  document.querySelectorAll('.feedback-type-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');
}

function submitFeedback() {
  const text = document.getElementById('feedback-text').value.trim();
  if (!text) {
    showNotification('L√ºtfen bir mesaj yaz!');
    return;
  }
  
  db.ref('feedback').push({
    user: username,
    type: currentFeedbackType,
    text: text,
    time: Date.now(),
    timeStr: new Date().toLocaleString('tr-TR')
  });
  
  document.getElementById('feedback-text').value = '';
  showNotification('Geri bildirimin i√ßin te≈üekk√ºrler!');
  if (role === 'admin') loadFeedbackHistory();
}

function loadFeedbackHistory() {
  const listDiv = document.getElementById('feedback-list');
  listDiv.style.display = 'block';
  
  db.ref('feedback').orderByChild('time').limitToLast(5).on('value', (snap) => {
    listDiv.innerHTML = '';
    const feedbacks = snap.val() || {};
    Object.values(feedbacks).reverse().forEach(f => {
      const div = document.createElement('div');
      div.className = 'feedback-item';
      div.innerHTML = `
        <div class="feedback-header">
          <span>${f.user}</span>
          <span style="background:#00ffcc; color:black; padding:2px 8px; border-radius:10px;">${f.type}</span>
        </div>
        <div>${f.text}</div>
        <div style="font-size:10px; color:#888; margin-top:3px;">${f.timeStr}</div>
      `;
      listDiv.appendChild(div);
    });
  });
}

// Men√º ƒ∞≈ülemleri
function toggleMenu() {
  document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('sidebar-overlay').classList.toggle('show');
}

function closeMenu() {
  document.getElementById('sidebar').classList.remove('open');
  document.getElementById('sidebar-overlay').classList.remove('show');
}

function switchScreen(screen) {
  currentScreen = screen;
  
  document.querySelectorAll('.sidebar-btn').forEach(btn => btn.classList.remove('active'));
  document.getElementById(`btn-${screen}`).classList.add('active');
  
  document.getElementById('chat-screen').classList.add('hidden');
  document.getElementById('guess-screen').classList.add('hidden');
  document.getElementById('altun-screen').classList.add('hidden');
  document.getElementById('chess-screen').classList.add('hidden');
  
  document.getElementById(`${screen}-screen`).classList.remove('hidden');
  
  if (screen === 'guess') initGuessGame();
  
  closeMenu();
}

function toggleOnline() {
  const panel = document.getElementById('onlinePanel');
  panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
}

function logout() {
  if (username) {
    db.ref(`online/${username}`).remove();
    db.ref(`typing/${username}`).remove();
  }
  location.reload();
}

function showNotification(text) {
  const notif = document.createElement('div');
  notif.className = 'notification';
  notif.textContent = text;
  document.body.appendChild(notif);
  setTimeout(() => notif.remove(), 3000);
}
</script>
</body>
</html>
